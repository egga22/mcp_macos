{"code":400,"error":{"code":400,"message":"\"functions\" and \"function_call\" are deprecated in favor of \"tools\" and \"tool_choice.\" To learn how to use tools, visit: https://openrouter.ai/docs/requests#tool-calls","metadata":{"provider_name":"OpenAI"}},"headers":{"access-control-allow-origin":"*","cf-ray":"955098358f3bd769-NRT","connection":"keep-alive","content-type":"application/json","date":"Wed, 25 Jun 2025 01:12:05 GMT","server":"cloudflare","transfer-encoding":"chunked","vary":"Accept-Encoding","x-clerk-auth-message":"Invalid JWT form. A JWT consists of three parts separated by dots. (reason=token-invalid, token-carrier=header)","x-clerk-auth-reason":"token-invalid","x-clerk-auth-status":"signed-out"},"level":"error","message":"Error processing LLM message: 400 \"functions\" and \"function_call\" are deprecated in favor of \"tools\" and \"tool_choice.\" To learn how to use tools, visit: https://openrouter.ai/docs/requests#tool-calls","service":"macos-ai-chat-backend","stack":"Error: 400 \"functions\" and \"function_call\" are deprecated in favor of \"tools\" and \"tool_choice.\" To learn how to use tools, visit: https://openrouter.ai/docs/requests#tool-calls\n    at APIError.generate (/Users/einarsoderberg/a/mcp_macos/backend/node_modules/openai/src/error.ts:72:14)\n    at OpenAI.makeStatusError (/Users/einarsoderberg/a/mcp_macos/backend/node_modules/openai/src/core.ts:462:21)\n    at OpenAI.makeRequest (/Users/einarsoderberg/a/mcp_macos/backend/node_modules/openai/src/core.ts:526:24)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async LLMService.processMessage (/Users/einarsoderberg/a/mcp_macos/backend/src/services/llmService.ts:80:24)\n    at async ChatService.processMessage (/Users/einarsoderberg/a/mcp_macos/backend/src/services/chatService.ts:29:27)\n    at async Socket.<anonymous> (/Users/einarsoderberg/a/mcp_macos/backend/src/server.ts:71:24)","status":400,"timestamp":"2025-06-25T01:12:05.149Z"}
{"code":400,"error":{"code":400,"message":"\"functions\" and \"function_call\" are deprecated in favor of \"tools\" and \"tool_choice.\" To learn how to use tools, visit: https://openrouter.ai/docs/requests#tool-calls","metadata":{"provider_name":"OpenAI"}},"headers":{"access-control-allow-origin":"*","cf-ray":"955098358f3bd769-NRT","connection":"keep-alive","content-type":"application/json","date":"Wed, 25 Jun 2025 01:12:05 GMT","server":"cloudflare","transfer-encoding":"chunked","vary":"Accept-Encoding","x-clerk-auth-message":"Invalid JWT form. A JWT consists of three parts separated by dots. (reason=token-invalid, token-carrier=header)","x-clerk-auth-reason":"token-invalid","x-clerk-auth-status":"signed-out"},"level":"error","message":"Error processing chat message: 400 \"functions\" and \"function_call\" are deprecated in favor of \"tools\" and \"tool_choice.\" To learn how to use tools, visit: https://openrouter.ai/docs/requests#tool-calls","service":"macos-ai-chat-backend","stack":"Error: 400 \"functions\" and \"function_call\" are deprecated in favor of \"tools\" and \"tool_choice.\" To learn how to use tools, visit: https://openrouter.ai/docs/requests#tool-calls\n    at APIError.generate (/Users/einarsoderberg/a/mcp_macos/backend/node_modules/openai/src/error.ts:72:14)\n    at OpenAI.makeStatusError (/Users/einarsoderberg/a/mcp_macos/backend/node_modules/openai/src/core.ts:462:21)\n    at OpenAI.makeRequest (/Users/einarsoderberg/a/mcp_macos/backend/node_modules/openai/src/core.ts:526:24)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async LLMService.processMessage (/Users/einarsoderberg/a/mcp_macos/backend/src/services/llmService.ts:80:24)\n    at async ChatService.processMessage (/Users/einarsoderberg/a/mcp_macos/backend/src/services/chatService.ts:29:27)\n    at async Socket.<anonymous> (/Users/einarsoderberg/a/mcp_macos/backend/src/server.ts:71:24)","status":400,"timestamp":"2025-06-25T01:12:05.149Z"}
{"level":"error","message":"Error calling MCP tool remote_macos_open_application: MCP process stdin not writable","service":"macos-ai-chat-backend","stack":"Error: MCP process stdin not writable\n    at MCPClient.callTool (/Users/einarsoderberg/a/mcp_macos/backend/src/services/mcpClient.ts:258:15)\n    at ChatService.executeTools (/Users/einarsoderberg/a/mcp_macos/backend/src/services/chatService.ts:83:45)\n    at ChatService.processMessage (/Users/einarsoderberg/a/mcp_macos/backend/src/services/chatService.ts:51:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Socket.<anonymous> (/Users/einarsoderberg/a/mcp_macos/backend/src/server.ts:71:24)","timestamp":"2025-06-25T01:57:38.162Z"}
{"level":"error","message":"Error calling MCP tool remote_macos_get_screen: MCP process stdin not writable","service":"macos-ai-chat-backend","stack":"Error: MCP process stdin not writable\n    at MCPClient.callTool (/Users/einarsoderberg/a/mcp_macos/backend/src/services/mcpClient.ts:258:15)\n    at ChatService.executeTools (/Users/einarsoderberg/a/mcp_macos/backend/src/services/chatService.ts:83:45)\n    at ChatService.processMessage (/Users/einarsoderberg/a/mcp_macos/backend/src/services/chatService.ts:51:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Socket.<anonymous> (/Users/einarsoderberg/a/mcp_macos/backend/src/server.ts:71:24)","timestamp":"2025-06-25T01:58:12.341Z"}
{"level":"error","message":"Error calling tool remote_macos_open_application: Failed to open application \"Visual Studio Code\": Command failed: open -a \"Visual Studio Code\"\nUnable to find application named 'Visual Studio Code'\n","service":"macos-ai-chat-backend","stack":"Error: Failed to open application \"Visual Studio Code\": Command failed: open -a \"Visual Studio Code\"\nUnable to find application named 'Visual Studio Code'\n\n    at LocalMacOSClient.openApplication (/Users/einarsoderberg/a/mcp_macos/backend/src/services/localMacOSClient.ts:273:13)\n    at async LocalMacOSClient.callTool (/Users/einarsoderberg/a/mcp_macos/backend/src/services/localMacOSClient.ts:115:18)\n    at async ChatService.executeTools (/Users/einarsoderberg/a/mcp_macos/backend/src/services/chatService.ts:83:24)\n    at async ChatService.processMessage (/Users/einarsoderberg/a/mcp_macos/backend/src/services/chatService.ts:51:16)\n    at async Socket.<anonymous> (/Users/einarsoderberg/a/mcp_macos/backend/src/server.ts:71:24)","timestamp":"2025-06-25T02:29:22.765Z"}
{"level":"error","message":"Error calling tool remote_macos_send_keys: Failed to send keys: Command failed: osascript -e 'tell application \"System Events\" to keystroke \"print(\\\\\"Hello World\\\\\")\"'\n55:61: syntax error: A identifier can’t go after this “\"”. (-2740)\n","service":"macos-ai-chat-backend","stack":"Error: Failed to send keys: Command failed: osascript -e 'tell application \"System Events\" to keystroke \"print(\\\\\"Hello World\\\\\")\"'\n55:61: syntax error: A identifier can’t go after this “\"”. (-2740)\n\n    at LocalMacOSClient.sendKeys (/Users/einarsoderberg/a/mcp_macos/backend/src/services/localMacOSClient.ts:253:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async LocalMacOSClient.callTool (/Users/einarsoderberg/a/mcp_macos/backend/src/services/localMacOSClient.ts:112:18)\n    at async ChatService.executeTools (/Users/einarsoderberg/a/mcp_macos/backend/src/services/chatService.ts:83:24)\n    at async ChatService.processMessage (/Users/einarsoderberg/a/mcp_macos/backend/src/services/chatService.ts:51:16)\n    at async Socket.<anonymous> (/Users/einarsoderberg/a/mcp_macos/backend/src/server.ts:71:24)","timestamp":"2025-06-25T02:29:22.833Z"}
